{
  "entities": {
    "Room": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Room",
      "type": "object",
      "description": "Represents a room in the hotel.",
      "properties": {
        "roomNumber": {
          "type": "number",
          "description": "The room number or identifier."
        },
        "type": {
          "type": "string",
          "description": "Type of room.",
          "enum": [
            "Simple",
            "Double",
            "Suite"
          ]
        },
        "status": {
          "type": "string",
          "description": "Current status of the room.",
          "enum": [
            "Disponible",
            "Occupée",
            "En maintenance"
          ]
        },
        "price": {
          "type": "number",
          "description": "Price per night for the room."
        }
      },
      "required": [
        "roomNumber",
        "type",
        "status",
        "price"
      ]
    },
    "Reservation": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Reservation",
      "type": "object",
      "description": "Represents a reservation made by a client.",
      "properties": {
        "clientId": {
          "type": "string",
          "description": "Reference to Client."
        },
        "clientName": {
          "type": "string",
          "description": "Denormalized client name."
        },
        "roomId": {
          "type": "string",
          "description": "Reference to Room."
        },
        "roomNumber": {
          "type": "number",
          "description": "Denormalized room number."
        },
        "pricePerNight": {
          "type": "number",
          "description": "Price per night at the time of booking."
        },
        "checkIn": {
          "type": "string",
          "description": "Date of check-in.",
          "format": "date-time"
        },
        "checkOut": {
          "type": "string",
          "description": "Date of check-out.",
          "format": "date-time"
        },
        "createdAt": {
          "type": "string",
          "description": "Date the reservation was created.",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "description": "The status of the reservation.",
          "enum": [
            "Réservée",
            "Enregistré",
            "Parti",
            "Annulée",
            "Confirmée",
            "En attente"
          ]
        },
        "paymentStatus": {
          "type": "string",
          "description": "The payment status of the reservation.",
          "enum": [
            "En attente",
            "Payé",
            "Remboursé"
          ]
        },
        "totalAmount": {
          "type": "number",
          "description": "The total amount for the reservation."
        }
      },
      "required": [
        "clientId",
        "clientName",
        "roomId",
        "roomNumber",
        "checkIn",
        "checkOut",
        "createdAt",
        "status"
      ]
    },
    "Client": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Client",
      "type": "object",
      "description": "Represents a client of the hotel.",
      "properties": {
        "firstName": {
          "type": "string",
          "description": "First name of the client."
        },
        "lastName": {
          "type": "string",
          "description": "Last name of the client."
        },
        "email": {
          "type": "string",
          "description": "Email address of the client.",
          "format": "email"
        },
        "phoneNumber": {
          "type": "string",
          "description": "Phone number of the client."
        },
        "address": {
          "type": "string",
          "description": "Address of the client."
        },
        "preferences": {
          "type": "string",
          "description": "Client preferences (e.g., room type, smoking/non-smoking)."
        },
        "notes": {
          "type": "string",
          "description": "Any notes about the client."
        }
      },
      "required": [
        "firstName",
        "lastName",
        "email",
        "phoneNumber"
      ]
    },
    "Staff": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Staff",
      "type": "object",
      "description": "Represents a staff member of the hotel.",
      "properties": {
        "name": {
          "type": "string",
          "description": "Full name of the staff member."
        },
        "email": {
          "type": "string",
          "description": "Email address of the staff member.",
          "format": "email"
        },
        "role": {
          "type": "string",
          "description": "Role of the staff member.",
          "enum": [
            "Admin",
            "Réception",
            "Entretien ménager"
          ]
        },
        "uid": {
          "type": "string",
          "description": "The Firebase Authentication user ID, if applicable."
        }
      },
      "required": [
        "name",
        "email",
        "role"
      ]
    },
    "HotelConfiguration": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "HotelConfiguration",
      "type": "object",
      "description": "Represents the global settings for the hotel.",
      "properties": {
        "taxRate": {
          "type": "number",
          "description": "The global tax rate for the hotel."
        },
        "bookingPolicy": {
          "type": "string",
          "description": "The booking policy text."
        }
      },
      "required": [
        "taxRate",
        "bookingPolicy"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/clients/{clientId}",
        "definition": {
          "entityName": "Client",
          "schema": {
            "$ref": "#/backend/entities/Client"
          }
        }
      },
      {
        "path": "/rooms/{roomId}",
        "definition": {
          "entityName": "Room",
          "schema": {
            "$ref": "#/backend/entities/Room"
          }
        }
      },
      {
        "path": "/reservations/{reservationId}",
        "definition": {
          "entityName": "Reservation",
          "schema": {
            "$ref": "#/backend/entities/Reservation"
          }
        }
      },
      {
        "path": "/staff/{staffId}",
        "definition": {
          "entityName": "Staff",
          "schema": {
            "$ref": "#/backend/entities/Staff"
          }
        }
      },
      {
        "path": "/hotel-configuration/{configId}",
        "definition": {
          "entityName": "HotelConfiguration",
          "schema": {
            "$ref": "#/backend/entities/HotelConfiguration"
          }
        }
      }
    ]
  }
}
